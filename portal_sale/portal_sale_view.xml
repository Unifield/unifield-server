<?xml version="1.0"?>
<openerp>
<data>
<record model="ir.ui.view" id="portal_sale_form">
		<field name="name">Portal Sale Order From</field>
		<field name="model">sale.order</field>
		<field name="type">form</field>
		<field name="arch" type="xml">
			<form string="Sales Order" link="0">
				<notebook>
					<page string="Sale Order">
						<field name="name" select="1"/>
						<group colspan="2" col="4">
							<field name="shipped" select="1"/>
							<field name="invoiced" select="1"/>
						</group>
						<newline/>
						<field name="date_order" select="1"/>
						<field name="shop_id" select="1" on_change="onchange_shop_id(shop_id)"/>
						<field name="partner_id" select="1" on_change="onchange_partner_id(partner_id)" required="1"/>
						<field name="partner_order_id" domain="[('partner_id','=',partner_id)]"/>
						<field name="partner_invoice_id" domain="[('partner_id','=',partner_id)]"/>
						<field name="partner_shipping_id" domain="[('partner_id','=',partner_id)]"/>

						<newline/>
						<field name="order_line" widget="one2many_list" colspan="4" nolabel="1" mode="tree,graph">
			<form string="Sale Order Lines">
				<notebook>
				<page string="Order Line">
					<separator string="Automatic Declaration" colspan="4"/>
					<field name="product_uom_qty" on_change="product_id_change(parent.pricelist_id,product_id,product_uom_qty,product_uom,product_uos_qty,product_uos,name,parent.partner_id, 'lang' in context and context['lang'], False)" context="partner_id=parent.partner_id,quantity=product_uom_qty,pricelist=parent.pricelist_id,shop=parent.shop_id,uom=product_uom" select="1"/>
					<field name="product_uom"/>
					<field name="product_id" on_change="product_id_change(parent.pricelist_id,product_id,product_uom_qty,product_uom,product_uos_qty,product_uos,name,parent.partner_id, 'lang' in context and context['lang'], True)" context="partner_id=parent.partner_id,quantity=product_uom_qty,pricelist=parent.pricelist_id,shop=parent.shop_id,uom=product_uom" colspan="4" select="1"/>

					<separator string="Manual Description" colspan="4"/>
					<field name="name" colspan="4" select="1"/>
					<field name="price_unit" select="1"/>
					<field name="discount"/>
					<field name="type"/>
					<field name="delay" select="1"/>
					<newline/>
					<field name="tax_id" colspan="4"/>
					<separator string="States" colspan="4"/>
					<field name="state" select="1"/>
					<field name="invoiced" select="1"/>
				</page><page string="Extra Info">
					<field name="product_uos_qty" on_change="uos_change(product_uos, product_uos_qty, product_id)"/>
					<field name="product_uos"  />
					<field name="product_packaging" />
					<field name="address_allotment_id" select="1"/>

				</page><page string="History">
					<separator string="Invoice Lines" colspan="4"/>
					<field name="invoice_lines" colspan="4" nolabel="1"/>

				</page>
				</notebook>
			</form>
			<tree string="Sales Order Lines">
				<field name="name" colspan="4"/>
				<field name="product_id"/>
				<field name="product_uom_qty" string="Qty"/>
				<field name="product_uom" string="UoM"/>
				<field name="discount"/>
				<field name="price_unit"/>
				<field name="price_net"/>
				<field name="price_subtotal"/>
			</tree>
					</field>
						<newline/>
						<group colspan="4" col="7">
							<field name="amount_untaxed"/>
							<field name="amount_tax"/>
							<field name="amount_total"/>

						</group>
						<group colspan="4" col="13">
							<field name="state" select="1"/>

						</group>
					</page>
					<page string="Other data">
						<field name="incoterm"/>
						<field name="picking_policy" required="True"/>
						<field name="user_id"/>
						<field name="order_policy" />
						<field name="origin"/>
						<field name="invoice_quantity"/>
						<field name="client_order_ref" />

					</page><page string="History">
						<separator string="Generated Invoices" colspan="4"/>
						<field name="invoice_ids" colspan="4" nolabel="1"/>
						<separator string="Generated Pickings" colspan="4"/>
						<field name="picking_ids" colspan="4" nolabel="1"/>
					</page>
				</notebook>
			</form>
		</field>
	</record>
	<record model="ir.ui.view" id="portal_sale_tree">
		<field name="name">sale.order.tree</field>
		<field name="model">sale.order</field>
		<field name="type">tree</field>
		<field name="arch" type="xml">
			<tree string="Sales Orders" link="0">
				<field name="date_order"/>
				<field name="name"/>
				<field name="partner_id"/>
				<field name="partner_shipping_id"/>
				<field name="shipped"/>
				<field name="invoiced"/>
				<field name="amount_untaxed"/>
				<field name="state"/>
			</tree>
		</field>
	</record>

</data>
</openerp>
