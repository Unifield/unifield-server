<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data noupdate="1">

    <record model="game.scenario" id="retail_phase2">
        <field name="name">Retail: From Draft Purchase Order to Paying Invoice</field>
        <field name="note">
Description of the scenario.
        </field>
        <field name="state">draft</field>
    </record>

<!-- ********* STEP 7 ***** -->

	<record model="game.scenario.step" id="step_pay_cust_inv">
		<field name="name">Pay All Customer Invoice</field>
		<field name="phase">TWO</field>
        <field name="scenario_id" ref="retail_phase2"/>
        <field name="menu_id" ref="account.menu_action_invoice_tree7"/>
        <field name="description">
In this phase, you must Pay All Customer Invoice.
        </field>
        <field name="tip">
You can use the menu:Financial Management / Invoices / Customer Invoices/Unpaid Customer Invoices
        </field>

        <field name="error">
You can not perform this operation in the current phase of the business game.
In this phase, you must Pay All Customer Invoice.
        </field>

       <!-- <field name="pre_process_object">profile.game.retail.phase1</field>
        <field name="pre_process_method">pre_process_print_rfq</field>

        <field name="post_process_object">profile.game.retail.phase1</field>
        <field name="post_process_method">post_process_print_rfq</field>-->
        <field name="state">draft</field>
    </record>

<!-- ********* STEP 6 ***** -->

	<record model="game.scenario.step" id="step_confirm_cust_inv">
		<field name="name">Confirm Draft Customer Invoice</field>
		<field name="phase">TWO</field>
        <field name="scenario_id" ref="retail_phase2"/>
        <field name="menu_id" ref="account.menu_invoice_draft"/>
        <field name="description">
In this phase, you must modify Confirm Draft Customer Invoice.
        </field>
        <field name="tip">Financial Management / Invoices / Customer Invoices/Draft Customer Invoices</field>

        <field name="error">
You can not perform this operation in the current phase of the business game.
In this phase, you must modify Confirm Draft Customer Invoice.
        </field>
<!--
        <field name="pre_process_object">profile.game.retail.phase1</field>
        <field name="pre_process_method">pre_process_modify_price</field>

        <field name="post_process_object">profile.game.retail.phase1</field>
        <field name="post_process_method">post_process_modify_price</field>-->
        <field name="state">draft</field>
        <field name="step_next_ids" eval="[(6,0,[ref('step_pay_cust_inv')])]"/>
    </record>
<!-- ********* STEP 5 ***** -->


	<record model="game.scenario.step" id="step_pay_supp_inv">
		<field name="name">Pay All Supplier Invoice</field>
		<field name="phase">TWO</field>
        <field name="scenario_id" ref="retail_phase2"/>
        <field name="menu_id" ref="account.menu_action_invoice_tree9"/>
        <field name="description">
In this phase, you must Pay All Supplier Invoice.
        </field>
        <field name="tip">
You can use the menu:Financial Management / Invoices / Supplier Invoices/Unpaid Supplier Invoices
		</field>

        <field name="error">
You can not perform this operation in the current phase of the business game.
In this phase, you must Pay All Supplier Invoice.
        </field>

      <!--<field name="pre_process_object">profile.game.retail.phase1</field>
        <field name="pre_process_method">pre_process_confirm_po</field>

        <field name="post_process_object">profile.game.retail.phase1</field>
        <field name="post_process_method">post_process_confirm_po</field>-->
        <field name="state">draft</field>
        <field name="step_next_ids" eval="[(6,0,[ref('step_confirm_cust_inv')])]"/>
    </record>

<!-- ********* STEP 4 ***** -->

 	<record model="game.scenario.step" id="step_deliver2">
		<field name="name">Deliver Products</field>
		<field name="phase">TWO</field>
        <field name="scenario_id" ref="retail_phase2"/>
        <field name="menu_id" ref="stock.menu_action_picking_tree"/>
        <field name="description">
In this phase, you must deliver Products.
        </field>
        <field name="tip">
You can use the menu: Stock Management / Sending Products
        </field>

        <field name="error">
You can not perform this operation in the current phase of the business game.
In this phase, you must deliver Products.
        </field>

       <!-- <field name="pre_process_object">profile.game.retail.phase1</field>
        <field name="pre_process_method">pre_process_deliver</field>

        <field name="post_process_object">profile.game.retail.phase1</field>
        <field name="post_process_method">post_process_deliver</field>-->
        <field name="state">draft</field>
        <field name="step_next_ids" eval="[(6,0,[ref('step_pay_supp_inv')])]"/>
    </record>

<!-- ********* STEP 3 ***** -->

	<record model="game.scenario.step" id="step_receive2">
		<field name="name">Receive Products</field>
		<field name="phase">TWO</field>
        <field name="scenario_id" ref="retail_phase2"/>
        <field name="menu_id" ref="stock.menu_action_picking_tree4"/>
        <field name="description">
In this phase, you must receive Products.
        </field>
        <field name="tip">
You can use the menu: Stock Management / Getting Products
        </field>

        <field name="error">
You can not perform this operation in the current phase of the business game.
In this phase, you must receive Products.
        </field>

    <!--    <field name="pre_process_object">profile.game.retail.phase1</field>
        <field name="pre_process_method">pre_process_receive</field>

        <field name="post_process_object">profile.game.retail.phase1</field>
        <field name="post_process_method">post_process_receive</field>-->
        <field name="state">draft</field>
        <field name="step_next_ids" eval="[(6,0,[ref('step_deliver2')])]"/>
    </record>

<!-- ********* STEP 2 ***** -->
	<record model="game.scenario.step" id="step_confirm_Supp_inv">
		<field name="name">Confirm Draft Supplier Invoice</field>
		<field name="phase">TWO</field>
        <field name="scenario_id" ref="retail_phase2"/>
        <field name="menu_id" ref="account.menu_action_invoice_tree8"/>
        <field name="description">
In this phase, you must confirm Draft Supplier Invoice.
        </field>
        <field name="tip">
You can use the menu: Financial Management / Invoices / Supplier Invoices/Draft Supplier Invoices
        </field>

        <field name="error">
You can not perform this operation in the current phase of the business game.
In this phase, you must confirm Draft Supplier Invoice.
        </field>

      <!--  <field name="pre_process_object">profile.game.retail.phase1</field>
        <field name="pre_process_method">pre_process_invoice_create</field>

        <field name="post_process_object">profile.game.retail.phase1</field>
        <field name="post_process_method">post_process_invoice_create</field>-->
        <field name="state">draft</field>
        <field name="step_next_ids" eval="[(6,0,[ref('step_receive2')])]"/>
    </record>

<!-- ********* STEP 1 ***** -->

	<record model="game.scenario.step" id="step_confirm_po2">
		<field name="name">Confirm Draft Purchase Order</field>
		<field name="phase">TWO</field>
        <field name="scenario_id" ref="retail_phase2"/>
        <field name="menu_id" ref="purchase.menu_purchase_order_draft"/>
        <field name="description">
In this phase, you must Confirm The Draft Purchase Order
        </field>
        <field name="tip">
You can use the menu: Purchase Management / Purchase Orders / Request For Quotations
        </field>

        <field name="error">
You can not perform this operation in the current phase of the business game.
In this phase, you must Confirm the Purchase Order.
        </field>
<!--
        <field name="pre_process_object">profile.game.retail.phase2</field>
        <field name="pre_process_method">pre_process_invoice_print</field>

        <field name="post_process_object">profile.game.retail.phase1</field>
        <field name="post_process_method">post_process_invoice_print</field>-->
        <field name="state">draft</field>
 		<field name="step_next_ids" eval="[(6,0,[ref('step_confirm_Supp_inv')])]"/>
    </record>

    </data>
</openerp>
