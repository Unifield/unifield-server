<?xml version="1.0"?>
<openerp>
      <data>
            <record model="ir.ui.view" id="wizard_temp_posting_form1">
                  <field name='name'>wizard.temp.posting.form1</field>
                  <field name='model'>wizard.temp.posting</field>
                  <field name='type'>form</field>
                  <field name='arch' type='xml'>
                        <form string="Temp Posting - Wizard">
                            <field name="has_no_register" invisible="1" />
                            <group colspan="4" attrs="{'invisible': [('has_no_register', '=', False)]}">
                                <html colspan="4">
                                    <h2>
                                    <translate>The following lines have no counterpart register, please choose an action:</translate>
                                    </h2>
                                </html>
                                <button name="nothing_selection" icon="gtk-no" string="Set Do Not Post on selection" type="object" set_ids="no_register_error_lines" />
                                <button name="post_selection" icon="gtk-yes" string="Set Post on selection" type="object" set_ids="no_register_error_lines" />
                                <field name="no_register_error_lines" colspan="4" nolabel="1" o2m_selectable="2">
                                    <tree string="Counterpart register does not exist" editable="top"  hide_delete_button="1" hide_new_button="1">
                                        <field name="sequence_for_reference" />
                                        <field name="name" />
                                        <field name="ref" />
                                        <field name="account_id" />
                                        <field name="amount_in" />
                                        <field name="amount_out" />
                                        <field name="third" />
                                        <field name="action" />
                                    </tree>
                                </field>
                            </group>
                            <group colspan="4">
                                <button string='Cancel' special='cancel' icon='gtk-cancel' colspan="2" />
                                <button name="action_confirm_temp_posting" string="Temp Post" type="object" icon="gtk-apply" colspan="2" />
                            </group>
                        </form>
                  </field>
            </record>

            <!-- Activities -->
            <act_window name="Temp Posting"
                        res_model="wizard.temp.posting"
                        src_model="account.bank.statement.line"
                        key2="client_action_multi"
                        view_mode="form"
                        view_type="form"
                        target="new"
                        id="act_wizard_temp_posting" />

            <!-- Temp Post All The Entries - Wizard -->
            <record model="ir.ui.view" id="wizard_temp_post_all">
                <field name='name'>wizard.temp.post.all</field>
                <field name='model'>wizard.temp.posting</field>
                <field name='type'>form</field>
                <field name="priority" eval="20"/>
                <field name='arch' type='xml'>
                    <form>
                        <separator string="Temp Posting"/>
                        <html>
                            <p id="label_temp_post_all" style="text-align:center;">
                                <translate>Are you sure you want to temp post <span style="font-weight: bold; color: red;">ALL</span> the entries?</translate>
                            </p>
                        </html>

                        <group colspan="6" col="4">
                            <button string='Cancel' special='cancel' icon='gtk-cancel' colspan="2"/>
                            <button name="temp_post_all" string="Temp Post ALL"
                                    type="object" icon="gtk-apply" colspan="2"/>
                        </group>
                    </form>
                </field>
            </record>
            <!-- Temp Post All The Entries - Entry Menu -->
            <record id="action_server_wizard_temp_post_all" model="ir.actions.server">
                <field name="name">Temp Post All The Entries</field>
                <field name="model_id" ref="model_account_bank_statement_line" />
                <field name="state">code</field>
                <field name="code">action = obj.open_mass_temp_post(all_lines=True, context=context)</field>
            </record>

            <!-- Add the entry in the Actions section of the menu (with a sequence order) -->
            <record id="ir_wizard_temp_post_all" model="ir.values">
                <field name="key2">client_action_multi</field>
                <field name="model">account.bank.statement.line</field>
                <field name="name">act_wizard_temp_post_all</field>
                <field eval="'ir.actions.server,%d'%ref('action_server_wizard_temp_post_all')" name="value"/>
                <field name="key">action</field>
                <field name="sequence" eval="110"/>
                <field eval="True" name="object"/>
            </record>

      </data>
</openerp>
