<?xml version="1.0" encoding="UTF-8"?>
<openerp>
  <data>

    <record model="ir.ui.view" id="ops_event_tree_view">
      <field name="name">operations.event.tree</field>
      <field name="model">operations.event</field>
      <field name="type">tree</field>
      <field name="arch" type="xml">
        <tree string="Events" hide_new_button="1" hide_edit_button="1" hide_delete_button="1">
          <field name="time"/>
          <field name="instance"/>
          <field name="kind"/>
          <field string="Event Data" name="data_short"/>
        </tree>
      </field>
    </record>

    <record id="ops_event_search" model="ir.ui.view">
      <field name="name">operations.event.search</field>
      <field name="model">operations.event</field>
      <field name="type">search</field>
      <field name="arch" type="xml">
        <search>
          <field name="time"/>
          <field name="instance"/>
          <field name="kind"/>
        </search>
      </field>
    </record>

    <record model="ir.ui.view" id="ops_event_form_view">
      <field name="name">operations.event.form</field>
      <field name="model">operations.event</field>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <form string="Event" editable="0" hide_new_button="1" hide_delete_button="1" hide_edit_button="1" hide_duplicate_button="1">
          <field name="time"/>
          <field name="instance"/>
          <field name="kind"/>
	  <separator string="Event contents:" colspan="4"/>
          <field name="data" colspan="4" nolabel="1"/>
	</form>
      </field>
    </record>

    <record model="ir.actions.act_window" id="ops_event_action">
      <field name="name">Operations Events</field>
      <field name="res_model">operations.event</field>
      <field name="view_type">form</field>
      <field name="view_mode">tree,form</field>
      <field name="context">{}</field>
    </record>

    <menuitem id="ops_menu" name="Operations" parent="base.menu_reporting" sequence="60"/>
    <menuitem id="ops_evt_menu" name="Events" parent="ops_menu" action="ops_event_action"/>

    <record model="ir.actions.server" id="ops_event_bang">
      <field name="name">Bang!</field>
      <field name="model_id" ref="model_operations_event"/>
      <field name="state">code</field>
      <field name="code">obj.bang()</field>
    </record>

    <record model="ir.ui.menu" id="ops_event_bang_ui">
      <field name="name">Bang!</field>
      <field name="parent_id" ref="ops_menu"/>
      <field name="action" ref="ops_event_bang"/>
    </record>

  </data>
</openerp>

