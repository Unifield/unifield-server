<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>

        <record model="ir.ui.view" id="sync_client_survey_search">
            <field name="name">sync_client_survey_search</field>
            <field name="model">sync_client.survey</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search>
                    <filter name="current" string="Current" domain="[('date_filter', '=', 'current')]" icon="terp-go-today" />
                    <filter name="future" string="Future" domain="[('date_filter', '=', 'future')]" icon="terp-calendar" />
                    <separator />
                    <field name="name"/>
                    <field name="profile" />
                    <field name="start_date" />
                    <field name="end_date" />
                    <field name="included_group_ids" />
                    <field name="excluded_group_ids" />
                </search>
            </field>
        </record>

        <record model="ir.ui.view" id="sync_client_survey_tree">
            <field name="name">sync_client_survey_tree</field>
            <field name="model">sync_client.survey</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree colors="grey:end_date&lt;current_date" hide_new_button="1" hide_delete_button="1">
                    <field name="name"/>
                    <field name="name_fr"/>
                    <field name="profile" />
                    <field name="start_date" />
                    <field name="end_date" />
                    <field name="url_en" widget="url"/>
                    <field name="url_fr" widget="url"/>
                    <field name="include_condition" />
                    <field name="included_group_ids" truncate="256" />
                    <field name="excluded_group_ids" truncate="256" />
                    <field name="users" />
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="sync_client_survey_form">
            <field name="name">sync_client_survey_form</field>
            <field name="model">sync_client.survey</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Survey" hide_duplicate_button="1" hide_new_button="1" hide_delete_button="1" hide_save_button="1">
                    <field name="name" readonly="1"/>
                    <field name="name_fr" readonly="1"/>
                    <field name="profile" readonly="1" />
                    <newline />
                    <field name="start_date" readonly="1" />
                    <field name="end_date" readonly="1" />
                    <field name="url_en" widget="url" readonly="1" colspan="4" />
                    <field name="url_fr" widget="url" readonly="1" colspan="4" />
                    <field name="include_condition" />
                    <newline />
                    <field name="included_group_ids" readonly="1" nolabel="1" colspan="2">
                        <tree string="Included Groups">
                            <field name="name" />
                            <field name="users" />
                        </tree>
                    </field>
                    <field name="excluded_group_ids" readonly="1" nolabel="1" colspan="2">
                        <tree string="Excluded Groups">
                            <field name="name" />
                            <field name="users" />
                        </tree>
                    </field>

                    <field name="stat_by_users" nolabel="1" colspan="4" readonly="1">
                        <tree string="Stat by users">
                            <field name="user_id" />
                            <field name="last_displayed" />
                            <field name="nb_displayed" />
                            <field name="last_choice" filter_selector="1" />
                        </tree>
                    </field>

                    <field name="users" nolabel="1" colspan="4" readonly="1">
                        <tree string="Matching Users">
                            <field name="login" filter_selector="1" />
                            <field name="name" filter_selector="1" />
                            <field name="groups_id" truncate="200" />
                        </tree>
                    </field>
                </form>
            </field>
        </record>


        <record model="ir.actions.act_window" id="sync_client_survey_action">
            <field name="name">Survey</field>
            <field name="res_model">sync_client.survey</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
        </record>

        <menuitem id="sync_client_survey_menu" parent="base.menu_reporting" sequence="100" action="sync_client_survey_action" />
    </data>
</openerp>
