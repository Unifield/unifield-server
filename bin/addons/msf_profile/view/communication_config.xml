<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <record model="ir.ui.view" id="communication_config_tree_view">
          <field name="name">communication.config.tree</field>
          <field name="model">communication.config</field>
          <field name="type">tree</field>
          <field name="arch" type="xml">
            <tree string="Communication Tree" hide_new_button="1" hide_delete_button="1" >
              <field name="from_date"/>
              <field name="to_date"/>
              <field name="message"/>
            </tree>
          </field>
        </record>

        <record model="ir.ui.view" id="communication_config_form_view">
          <field name="name">communication.config.form</field>
          <field name="model">communication.config</field>
          <field name="type">form</field>
          <field name="arch" type="xml">
            <form string="Communication configuration" hide_new_button="1" hide_delete_button="1" hide_duplicate_button="1">
                <group col="4" colspan="4">
                    <field name="from_date"/>
                    <field name="to_date"/>
                    <separator/>
                    <field name="message"/>
                </group>
            </form>
          </field>
        </record>

        <record id="ir_actions_server_communicationconfig" model="ir.actions.server">
            <field name="code">
res = obj.pool.get('ir.model.data').get_object_reference(cr, uid, 'msf_profile', 'communication_config_default')
action = {
'res_model' : 'communication.config',
'view_type' : 'form',
'view_mode' : 'form,tree',
'type': 'ir.actions.act_window',
'res_id' : res[1],
}</field>
            <field eval="5" name="sequence"/>
            <field name="state">code</field>
            <field name="type">ir.actions.server</field>
            <field name="model_id" ref="model_communication_config"/>
            <field name="condition">True</field>
            <field name="name">Open Communication config</field>
        </record>

        <record id="ir_ui_menu_communicationconfig" model="ir.ui.menu">
            <field name="name">Communications</field>
            <field name="parent_id" ref="base.next_id_2"/>
            <field name="sequence">110</field>
        </record>

        <record id="ir_values_menuitem_communicationconfig" model="ir.values">
            <field name="name">Menuitem communication config</field>
            <field name="key2">tree_but_open</field>
            <field eval="1" name="object"/>
            <field name="value" eval="'ir.actions.server,%s' % ref('msf_profile.ir_actions_server_communicationconfig')" />
            <field name="key">action</field>
            <field name="model">ir.ui.menu</field>
            <field eval="ref('ir_ui_menu_communicationconfig')" name="res_id"/>
        </record>

    </data>
</openerp>
