<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <!-- DashBoard -->
        <record id="account_board_commitment_voucher_view" model="ir.ui.view">
            <field name="name">account.commitment</field>
            <field name="model">account.commitment</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree limit="5" string="Commitment Voucher">
                    <field name="name"/>
                    <field name="date"/>
                    <field name="partner_id"/>
                    <field name="purchase_id"/>
                    <field name="currency_id"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>
        <record id="account_board_commitment_voucher" model="ir.actions.act_window">
            <field name="name">Commitment Voucher</field>
            <field name="res_model">account.commitment</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,calendar,graph</field>
            <field name="domain">[('state', 'in', ('draft','open'))]</field>
            <field name="context">{'board_view': True}</field>
            <field ref="account_board_commitment_voucher_view" name="view_id"/>
            <field name="limit">5</field>
        </record>

        <record id="account_board_supplier_invoice_draft_view" model="ir.ui.view">
            <field name="name">account.invoice</field>
            <field name="model">account.invoice</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree limit="5"  string="Suppliers Invoices Pending Validation">
                    <field name="number"/>
                    <field name="name"/>
                    <field name="partner_id"/>
                    <field name="date_invoice"/>
                    <field name="date_due"/>
                    <field name="currency_id"/>
                    <field name="amount_to_pay"/>
                    <field name="amount_total"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <record id="account_board_supplier_invoice_draft" model="ir.actions.act_window">
            <field name="name">Suppliers invoices pending validation</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,calendar,graph</field>
            <field name="domain">[('state', '=', 'draft'),('type','=','in_invoice'), ('is_direct_invoice', '=', False)]</field>
            <field name="context">{'board_view': True}</field>
            <field ref="account_board_supplier_invoice_draft_view" name="view_id"/>
            <field name="limit">5</field>
        </record>

    <!-- US-1298: Due to a technical issue with views in Dashboard, do not merge this view def with the previous one! The Label will be wrong! btype def on dashboard -->
        <record id="account_board_supplier_invoice_open_view" model="ir.ui.view">
            <field name="name">account.invoice</field>
            <field name="model">account.invoice</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree limit="5"  string="Suppliers Invoices Pending Payment">
                    <field name="number"/>
                    <field name="name"/>
                    <field name="partner_id"/>
                    <field name="date_invoice"/>
                    <field name="date_due"/>
                    <field name="currency_id"/>
                    <field name="amount_to_pay"/>
                    <field name="amount_total"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <record id="account_board_supplier_invoice_open" model="ir.actions.act_window">
            <field name="name">Suppliers invoices pending payment</field>
            <field name="res_model">account.invoice</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,calendar,graph</field>
            <field name="domain">[('state', '=', 'open'),('type','=','in_invoice'), ('is_direct_invoice', '=', False)]</field>
            <field name="context">{'board_view': True}</field>
            <field ref="account_board_supplier_invoice_open_view" name="view_id"/>
            <field name="limit">5</field>
        </record>

        <record id="account_board_liquidity_view" model="ir.ui.view">
            <field name="name">account.bank.statement</field>
            <field name="model">account.bank.statement</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Liquidity" colors="red: balance_negative_board!='False'">
                    <field name="balance_negative_board"/>
                    <field name="instance_id"/>
                    <field name="journal_id" string="Register Code"/>
                    <field name="name"/>
                    <field name="current_board_balance"/>
                    <field name="currency" string="Register currency"/>
                    <field name="current_board_balance_func" string="Current balance in func. ccy" sum="Total"/>
                    <field name="current_board_currency_func" string="Func. ccy"/>
                </tree>
            </field>
        </record>
        <record id="account_board_liquidity" model="ir.actions.act_window">
            <field name="name">Liquidity</field>
            <field name="res_model">account.bank.statement</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,calendar,graph</field>
            <field ref="account_board_liquidity_view" name="view_id"/>
            <field name="context">{'board_view': True}</field>
        </record>

        <!-- Show the Currency rates -->
        <record id="account_board_currency_view" model="ir.ui.view">
            <field name="name">res.currency</field>
            <field name="model">res.currency</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Latest FX Rates" limit="5">
                    <field name="name"/>
                    <field name="rate"/>
                    <field name="date"/>
                </tree>
            </field>
        </record>
        <record id="account_board_currency" model="ir.actions.act_window">
            <field name="name">Latest FX rates</field>
            <field name="res_model">res.currency</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,calendar,graph</field>
            <field ref="account_board_currency_view" name="view_id"/>
            <field name="context">{'board_view': True}</field>
            <field name="limit">3</field>
        </record>

        <record id="account_board_period_view" model="ir.ui.view">
            <field name="name">account.period.board</field>
            <field name="model">account.period</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Account Periods" limit="5">
                    <field name="name"/>
                    <field name="code"/>
                    <field name="date_start"/>
                    <field name="date_stop"/>
                    <field name="fiscalyear_id"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <record id="account_board_period" model="ir.actions.act_window">
            <field name="name">Account Periods</field>
            <field name="res_model">account.period</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,calendar,graph</field>
            <field ref="account_board_period_view" name="view_id"/>
            <field name="domain">[('state', '=', 'draft'), ('special', '=', False)]</field>
            <field name="context">{'board_view': True}</field>
        </record>

        <!-- Show HQ entries to be validated -->
        <record id="account_hq_entries_view" model="ir.ui.view">
            <field name="name">hq.entries</field>
            <field name="model">hq.entries</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="HQ Entries To Be Validated" limit="5">
                    <field name="name"/>
                    <field name="ref"/>
                    <field name="date"/>
                    <field name="period_id"/>
                    <field name="account_id"/>
                    <field name="partner_txt"/>
                    <field name="amount"/>
                    <field name="currency_id"/>
                </tree>
            </field>
        </record>
        <record id="account_hq_entries" model="ir.actions.act_window">
            <field name="name">HQ Entries to be validated</field>
            <field name="res_model">hq.entries</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,calendar,graph</field>
            <field ref="account_hq_entries_view" name="view_id"/>
            <field name="domain">[('user_validated', '!=', True)]</field>
            <field name="context">{'board_view': True}</field>
            <field name="limit">5</field>
        </record>
        <!-- End HQ Entries -->

        <!-- Show the Payrolls entries to be validated -->
        <record id="hr_payroll_board_view" model="ir.ui.view">
            <field name="name">hr.payroll.msf</field>
            <field name="model">hr.payroll.msf</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Payroll Entries To Be Validated" limit="5">
                    <field name="name"/>
                    <field name="ref"/>
                    <field name="period_id"/>
                    <field name="employee_id_number"/>
                    <field name="account_id"/>
                    <field name="amount"/>
                    <field name="currency_id"/>
                </tree>
            </field>
        </record>
        <record id="hr_payroll_board" model="ir.actions.act_window">
            <field name="name">Payroll entries to be validated</field>
            <field name="res_model">hr.payroll.msf</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form,calendar,graph</field>
            <field ref="hr_payroll_board_view" name="view_id"/>
            <field name="domain">[('state', '=', 'draft'), ('account_id.is_analytic_addicted', '=', True)]</field>
            <field name="context">{'board_view': True}</field>
            <field name="limit">5</field>
        </record>
        <!-- End for Payroll -->

        <record id="account_board_budget_search_view" model="ir.ui.view">
            <field name="name">msf.budget.line</field>
            <field name="model">msf.budget.line</field>
            <field name="type">search</field>
            <field name="arch" type="xml">
                <search string="Search Budget">
                    <group col="6" colspan="4">
                        <field name="budget_id" select="1"/>
                    </group>
                </search>
            </field>
        </record>
        <record id="account_board_budget_view" model="ir.ui.view">
            <field name="name">msf.budget.line</field>
            <field name="model">msf.budget.line</field>
            <field name="type">graph</field>
            <field name="arch" type="xml">
                <graph string="Budgets (percents)" type="bar" orientation="horizontal">
                    <field name="name"/>
                    <field name="bugdet_synthesis" operator="max"/>
                </graph>
            </field>
        </record>
        <record id="account_board_budgets" model="ir.actions.act_window">
            <field name="name">Budget synthesis</field>
            <field name="res_model">msf.budget.line</field>
            <field name="view_type">form</field>
            <field name="view_mode">graph,tree,form</field>
            <field ref="account_board_budget_view" name="view_id"/>
            <field name="context">{'board_view': 'budget'}</field>
            <field name="domain">[]</field>
            <field name="search_view_id" ref="account_board_budget_search_view"/>
        </record>
        -->
        <!-- Custom Accounting Board -->
        <record id="inherit_board_account_form" model="ir.ui.view">
            <field name="name">inherit.board.account.form</field>
            <field name="model">board.board</field>
            <field name="type">tree</field>
            <field name='inherit_id' ref='account.board_account_form' />
            <field name="priority" eval="15"/>
            <field name="arch" type="xml">
                <xpath expr="/form" position="replace">
                    <form string="Account Board">
                        <hpaned>
                            <child1>
                                <action colspan="4" height="160" width="400" name="%(account_board_commitment_voucher)d" string="Commitment Voucher" />
                                <action colspan="4" height="160" width="400" name="%(account_board_supplier_invoice_draft)d" string="Suppliers invoices pending validation" />
                                <action colspan="4" height="160" width="400" name="%(account_board_supplier_invoice_open)d" string="Suppliers invoices pending payment" />
                                <!--  DON'T SHOW LIQUIDITY FOR NOW! action colspan="4" height="160" width="400" name="%(account_board_liquidity)d" string="Liquidity" btype="1"/-->
                            </child1>

                            <child1>
                                <action colspan="4" height="160" width="400" name="%(hr_payroll_board)d" string="Payrolls Entries to validate" />
                                <action colspan="4" height="160" width="400" name="%(account_hq_entries)d" string="HQ Entries to validate" />
                                <action colspan="4" height="160" width="400" name="%(account_board_period)d" string="Account Periods" />
                                <action colspan="4" height="160" width="400" name="%(account_board_currency)d" string="Latest FX rates" />
                            </child1>
                        </hpaned>
                    </form>
                </xpath>
            </field>
        </record>

    </data>
</openerp>
