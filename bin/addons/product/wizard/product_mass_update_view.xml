<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <!-- Views -->
        <record id="view_product_mass_update_form" model="ir.ui.view">
            <field name="name">product.mass.update.form</field>
            <field name="model">product.mass.update</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Product Mass Update" noteditable="state != 'draft'" hide_delete_button="1">
                    <group string=" New Data " colspan="4">
                        <field name="active_product" />
                        <field name="dangerous_goods" />
                        <field name="heat_sensitive_item" />
                        <field name="single_use" />
                        <field name="short_shelf_life" />
                        <field name="alert_time" />
                        <field name="life_time" />
                        <field name="use_time" />
                        <field name="procure_delay" />
                        <field name="procure_method" />
                        <field name="product_state" />
                        <field name="sterilized" />
                        <field name="supply_method" />
                        <field name="seller_id" />
                        <field name="property_account_income" />
                        <field name="property_account_expense" />
                    </group>
                    <group name="import" string=" Import Lines " colspan="4" attrs="{'invisible':[('state', '!=', 'draft')]}">
                        <button name="wizard_import_products" string="Import products" icon="gtk-dnd" colspan="2" type="object"/>
                    </group>
                    <field name="product_ids" colspan="4" nolabel="1" context="{'active_test': False}"
                           domain="[]">
                        <tree string="Products" hide_edit_button="1">
                            <field name="default_code" />
                            <field name="name" />
                        </tree>
                    </field>
                    <group colspan="4" >
                        <field name="state" colspan="2" />
                        <button name="cancel_update" string="Delete Update" icon="gtk-cancel" colspan="1" type="object" attrs="{'invisible':[('state', '!=', 'draft')]}"/>
                        <button name="apply_update" string="Apply Update" icon="gtk-go-forward" colspan="1" type="object" attrs="{'invisible': [('state', '!=', 'draft')]}"/>
                    </group>
                </form>
            </field>
        </record>

        <record id="view_product_mass_update_tree" model="ir.ui.view">
            <field name="name">product.mass.update.tree</field>
            <field name="model">product.mass.update</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Product Mass Update" noteditable="state!='draft'" hide_delete_button="1">
                    <field name="date_done"/>
                    <field name="log"/>
                    <field name="state"/>
                </tree>
            </field>
        </record>

        <!-- Menu -->
        <menuitem id="parent_product_mass_update" parent="product_attributes.menu_main_product" name="Products Update" />

        <record id="previous_mass_update_action" model="ir.actions.act_window">
            <field name="name">Product Mass Update</field>
            <field name="res_model">product.mass.update</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="view_product_mass_update_tree"/>
        </record>
        <menuitem action="previous_mass_update_action" id="menu_import_request" sequence="1" parent="parent_product_mass_update" />
    </data>
</openerp>
