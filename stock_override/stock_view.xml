<?xml version="1.0" encoding="utf-8" ?>
<openerp>
    <data>

        <record id="stock_location_chained_nomen_form_view" model="ir.ui.view">
            <field name="name">stock.location.chained.nomen.form.view</field>
            <field name="model">stock.location</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="stock.view_location_form" />
            <field name="arch" type="xml">
                <data>
                    <xpath expr="/form//field[@name='chained_location_type']" position="attributes">
                        <attribute name="on_change">on_change_location_type(chained_location_type)</attribute>
                    </xpath>

                    <xpath expr="/form/group[3]" position="after" >
                        <group colspan="2" col="2" attrs="{'invisible': [('chained_location_type', '!=', 'nomenclature')]}">
                            <separator colspan="2" string="Chaining options" />
                            <field name="chained_options_ids" colspan="2" nolabel="1">
                                <tree string="Chaining options" editable="top">
                                    <field name="nomen_id" domain= "[('level', '=', 0)]" />
                                    <field name="dest_location_id" domain="[('usage', '=', 'internal')]" />
                                </tree>
                            </field>
                        </group>
                    </xpath>
                </data>
            </field>
        </record>

        <record id="view_picking_form_inherit_sale" model="ir.ui.view">
            <field name="name">view.picking.form.inherit.sale</field>
            <field name="model">stock.picking</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="sale.stock_picking_inherit_sale" />
            <field name="arch" type="xml">
                <xpath expr="/form/notebook/page[@string='Additional info']/field[@name='sale_id']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}</attribute>
                </xpath>
            </field>
        </record>

        <record id="view_picking_out_form_inherit_sale" model="ir.ui.view">
            <field name="name">view.picking.form.out.inherit.sale</field>
            <field name="model">stock.picking</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="sale.stock_picking_out_inherit_sale" />
            <field name="arch" type="xml">
                <xpath expr="/form//field[@name='sale_id']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}</attribute>
                </xpath>
            </field>
        </record>

        <record id="inherit_view_move_form" model="ir.ui.view">
            <field name="name">inherit.view.move.form</field>
            <field name="model">stock.move</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="stock.view_move_form" />
            <field name="arch" type="xml">
                <xpath expr="/form//field[@name='product_id']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//field[@name='product_qty']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//field[@name='product_uom']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//field[@name='location_id']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//field[@name='location_dest_id']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//field[@name='address_id']" position="replace">
                	<field name="partner_id2" on_change="on_change_partner(partner_id2, address_id)" 
                				attrs="{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}" />
                	<field name="address_id" attrs="{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}" />
                </xpath>
                <xpath expr="/form//field[@name='picking_id']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//field[@name='tracking_id']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//field[@name='date_expected']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//field[@name='name']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//button[@string='New pack']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//button[@string='Split']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
            </field>
        </record>
        
        <record id="inherit_view_move_form_reception_picking" model="ir.ui.view">
            <field name="name">inherit.view.move.form</field>
            <field name="model">stock.move</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="stock.view_move_form_reception_picking" />
            <field name="arch" type="xml">
                <xpath expr="/form//field[@name='product_id']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//field[@name='product_qty']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//field[@name='product_uom']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//field[@name='location_id']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//field[@name='location_dest_id']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//field[@name='address_id']" position="replace">
                	<field name="partner_id2" on_change="on_change_partner(partner_id2, address_id)" 
                				attrs="{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}" />
                	<field name="address_id" attrs="{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}" />
                </xpath>
                <xpath expr="/form//field[@name='picking_id']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//field[@name='tracking_id']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//field[@name='date_expected']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//field[@name='name']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//button[@string='New pack']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
                <xpath expr="/form//button[@string='Split']" position="attributes">
                    <attribute name="attrs">{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}</attribute>
                </xpath>
            </field>
        </record>        

        <record id="view_split_in_lots" model="ir.ui.view">
            <field name="name">view.split.in.lots</field>
            <field name="model">stock.move.split</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="stock.view_split_in_lots" />
            <field name="arch" type="xml">
                <data>
                    <xpath expr="/form//field[@name='use_exist']" position="attributes">
                        <attribute name="string">Ues existing batches</attribute>
                    </xpath>
                    <xpath expr="/form" position="attributes">
                        <attribute name="string">Split in batches</attribute>
                    </xpath>
                    <xpath expr="/form//field[@name='line_ids']/tree" position="attributes">
                        <attribute name="string">Batch numbers</attribute>
                    </xpath>
                    <xpath expr="/form//field[@name='line_ids']/tree/field[@name='name']" position="attributes">
                        <attribute name="string">Batch numbers</attribute>
                    </xpath>
                    <xpath expr="/form//field[@name='line_ids']/form" position="attributes">
                        <attribute name="string">Batch number</attribute>
                    </xpath>
                    <xpath expr="/form//field[@name='line_ids']/form/field[@name='name']" position="attributes">
                        <attribute name="string">Batch number</attribute>
                    </xpath>
                    <xpath expr="/form//field[@name='line_exist_ids']/tree" position="attributes">
                        <attribute name="string">Batch numbers</attribute>
                    </xpath>
                    <xpath expr="/form//field[@name='line_exist_ids']/tree/field[@name='prodlot_id']" position="attributes">
                        <attribute name="string">Batch numbers</attribute>
                    </xpath>
                    <xpath expr="/form//field[@name='line_exist_ids']/form" position="attributes">
                        <attribute name="string">Batch number</attribute>
                    </xpath>
                    <xpath expr="/form//field[@name='line_exist_ids']/form/field[@name='prodlot_id']" position="attributes">
                        <attribute name="string">Batch number</attribute>
                    </xpath>
                </data>
            </field>
        </record>

        <record id="view_split_in_lots_inherit" model="ir.ui.view">
            <field name="name">Split Inventory Line</field>
            <field name="model">stock.inventory.line.split</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="stock.view_split_in_lots_inherit" />
            <field name="arch" type="xml">
                <data>

                    <xpath expr="/form//field[@name='use_exist']" position="attributes">
                        <attribute name="string">Ues existing batches</attribute>
                    </xpath>
                    <xpath expr="/form" position="attributes">
                        <attribute name="string">Split in batches</attribute>
                    </xpath>
                    <xpath expr="/form//field[@name='line_ids']/tree" position="attributes">
                        <attribute name="string">Batch numbers</attribute>
                    </xpath>
                    <xpath expr="/form//field[@name='line_ids']/tree/field[@name='name']" position="attributes">
                        <attribute name="string">Batch numbers</attribute>
                    </xpath>
                    <xpath expr="/form//field[@name='line_ids']/form" position="attributes">
                        <attribute name="string">Batch number</attribute>
                    </xpath>
                    <xpath expr="/form//field[@name='line_ids']/form/field[@name='name']" position="attributes">
                        <attribute name="string">Batch number</attribute>
                    </xpath>
                    <xpath expr="/form//field[@name='line_exist_ids']/tree" position="attributes">
                        <attribute name="string">Batch numbers</attribute>
                    </xpath>
                    <xpath expr="/form//field[@name='line_exist_ids']/tree/field[@name='prodlot_id']" position="attributes">
                        <attribute name="string">Batch numbers</attribute>
                    </xpath>
                    <xpath expr="/form//field[@name='line_exist_ids']/form" position="attributes">
                        <attribute name="string">Batch number</attribute>
                    </xpath>
                    <xpath expr="/form//field[@name='line_exist_ids']/form/field[@name='prodlot_id']" position="attributes">
                        <attribute name="string">Batch number</attribute>
                    </xpath>

                </data>
            </field>
        </record>

        <record id="stock.track_line" model="ir.actions.act_window">
            <field name="name">Split in batches</field>
        </record>

        <record id="batch_view_inventory_tree" model="ir.ui.view">
            <field name="name">batch.view.inventory.tree</field>
            <field name="model">stock.inventory</field>
            <field name="type">tree</field>
            <field name="inherit_id" ref="stock.view_inventory_tree" />
            <field name="arch" type="xml">
                <xpath expr="/tree" position="attributes">
                    <attribute name="string">Batch inventory</attribute>
                </xpath>
            </field>
        </record>
        
        <record id="view_location_tree_tree" model="ir.ui.view">
            <field name="name">stock.location.tree.tree</field>
            <field name="model">stock.location</field>
            <field name="type">tree</field>
            <field name="field_parent">child_ids</field>
            <field name="arch" type="xml">
                <tree string="Stock Location" colors="blue:usage=='view';darkred:usage=='internal'" toolbar="1" expand_button="1">
                    <field name="name"/>
                    <field name="usage"/>
                    <field name="stock_real" />
                    <field name="stock_virtual" />
                </tree>
            </field>
        </record>

        <record id="unifield_view_move_tree" model="ir.ui.view">
            <field name="name">unifield.view.move.tree</field>
            <field name="model">stock.move</field>
            <field name="type">tree</field>
            <field name="inherit_id" ref="stock.view_move_tree" />
            <field name="arch" type="xml">
                <xpath expr="/tree" position="attributes">
                    <attribute name="editable">top</attribute>
                    <attribute name="noteditable">1</attribute>
                    <attribute name="hide_new_button">1</attribute>
                    <attribute name="hide_delete_button">1</attribute>
                </xpath>

                <xpath expr="/tree//field[@name='picking_id']" position="attributes">
                    <attribute name="string">Picking Ref.</attribute>
                </xpath>

                <xpath expr="/tree//field[@name='tracking_id']" position="replace" />

                <xpath expr="/tree//button[@string='Split in production lots']" position="replace" />
                <xpath expr="/tree//button[@string='Put in current pack']" position="replace" />
                <xpath expr="/tree//button[@string='Put in a new pack']" position="replace" />
                <xpath expr="/tree//button[@string='Scrap Products']" position="replace" />
            </field>
        </record>

        <record id="stock.view_picking_form" model="ir.ui.view">
            <field name="name">view.picking.form</field>
            <field name="model">stock.picking</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Internal Moves">
                    <group colspan="4" col="6">
                        <group colspan="4" col="4">
                            <field name="name" readonly="1"/>
                            <field name="origin" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}"/>
                            <field name="backorder_id" readonly="1"/>
                            <field name="reason_type_id" widget="selection" attrs="{'readonly': [('state', 'not in', ('draft', 'confirmed', 'assigned'))]}"/>
                            <field name="order_category"/>
                        </group>
                        <group colspan="2" col="2">
                            <field name="date" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}"/>
                            <field name="min_date" string="Expected Move Date" attrs="{'readonly': [('state', 'in', ['done', 'cancel'])]}"/>
                       </group>
                    </group>
                    <notebook colspan="4">
                        <page string="Products">
                            <field name="move_lines"
                                colspan="4"
                                nolabel="1"
                                widget="one2many_list"
                                default_get="{'move_line':move_lines}"
                                context="{'reason_type_id': reason_type_id}" 
                                on_change="onchange_move()"
                                attrs="{'readonly': [('from_wkf', '=', True),('state','in',['draft','confirmed','assigned'])]}"
                                >
                                <tree colors="grey:scrapped == True" string="Stock Moves">
                                    <field name="line_number"/>
                                    <field name="product_id"/>
                                    <field name="composition_list_id"/>
                                    <field name="product_qty" on_change="onchange_quantity(product_id, product_qty, product_uom, product_uos)"/>
                                    <field name="product_uom" string="UoM"/>
                                    <field name="product_uos" invisible="1"/>
                                    <field name="scrapped" invisible="1"/>
                                    <field name="asset_id"/>
                                    <field name="prodlot_id"/>
                                    <field name="expired_date"/>
                                    <button name="310" string="Split in production lots" type="action" icon="terp-stock_effects-object-colorize" states="draft,waiting,confirmed,assigned"/>
                                    <field name="tracking_id"/>
                                    <field name="location_id"/>
                                    <field name="location_dest_id"/>
                                    <field name="date" string="Actual Move Date"/>
                                    <field name="state"/>
                                    <field name="lot_check"/>
                                    <field name="exp_check"/>
                                    <field name="kc_check"/>
                                    <field name="ssl_check" invisible="True"/>
                                    <field name="dg_check"/>
                                    <field name="np_check"/>
                                </tree>

                                <form string="Stock Moves">
                                    <group colspan="2" col="4">
                                        <separator colspan="4" string="Move Information"/>
                                        <field name="name" invisible="1" colspan="4"/>
                                        <field name="product_id"
                                            on_change="onchange_product_id(product_id,location_id,location_dest_id, parent.address_id, parent.type)"
                                            context="{'location': location_id, 'prodlot_id': prodlot_id, 'compute_child': False}"
                                            colspan="4"
                                            />
                                        <field name="product_qty"
                                            on_change="onchange_quantity(product_id, product_qty, product_uom, product_uos)"
                                            colspan="2"
                                            />
                                        <field name="product_uom" string="Unit Of Measure" colspan="2"/>
                                        <field name="product_uos_qty"
                                            on_change="onchange_uos_quantity(product_id, product_uos_qty, product_uos, product_uom)"
                                            colspan="4"
                                            invisible="1"
                                            />
                                        <field name="product_uos"
                                            on_change="onchange_quantity(product_id, product_qty, product_uom, product_uos)"
                                            colspan="4"
                                            invisible="1"
                                            />
                                        <field name="product_packaging" domain="[('product_id','=',product_id)]" colspan="4" invisible="1"/>
                                    </group>

                                    <group colspan="2" col="2">
                                        <separator string="Locations" colspan="2"/>
                                        <field name="location_id" 
                                            domain="[('usage','in',('internal', 'procurement', 'production'))]"
                                            context="{'specific_rules_tree_view': True, 'prodlot_id': prodlot_id, 'product_id': product_id, 'compute_child': False}" 
                                            />
                                       <field name="location_dest_id"
                                            domain="[('usage','in',('internal', 'inventory', 'procurement', 'production'))]" 
                                            on_change="location_dest_change(location_dest_id)"
                                            />
                                    </group>

                                    <group colspan="2" col="4">
                                        <separator string="Traceability" colspan="4"/>
                                        <field name="asset_id" colspan="4" />
                                        <field name="prodlot_id" groups="base.group_extended"
                                            context="{'location_id':location_id, 'product_id':product_id, 'hidden_perishable_mandatory': hidden_perishable_mandatory,'search_default_real': True}"
                                            domain="[('product_id','=?',product_id), ('check_type','=', True)]"
                                            on_change="onchange_lot_id(prodlot_id,product_qty, location_id, product_id, product_uom)" 
                                            colspan="2"
                                            attrs="{'readonly': [('hidden_batch_management_mandatory','=',False), ('hidden_perishable_mandatory','=',False)]}" 
                                            />
                                        <field name="hidden_batch_management_mandatory" invisible="True" />
                                        <field name="hidden_perishable_mandatory" invisible="True" />
                                        <field name="expired_date" />
                                        <group colspan="4" col="10">
                                            <field name="lot_check" />
                                            <field name="exp_check" />
                                            <field name="kc_check" />
                                            <field name="ssl_check" invisible="True" />
                                            <field name="dg_check" />
                                            <field name="np_check" />
                                        </group>
                                        <field name="reason_type_id" widget="selection" attrs="{'readonly': [('state', 'not in', ('draft', 'confirmed', 'assigned'))]}"/>
                                    </group>

                                    <group colspan="2" col="2">
                                        <separator string="Dates" colspan="2"/>
                                        <field name="create_date" invisible="1"/>
                                        <field name="date" string="Actual Move Date"/>
                                        <field name="date_expected" string="Expected Move Date"/>
                                    </group>

                                    <label string="" colspan="4"/>
                                    <field name="state"/>
                                    <group col="4" colspan="2">
                                        <button name="action_assign" states="confirmed,assigned" string="Check Availability" type="object" icon="gtk-find"/>
                                        <button name="draft_force_assign" states="draft" string="Validate" type="object" icon="gtk-apply"/>
                                        <button name="force_assign" states="confirmed,assigned" string="Force Availability" type="object" icon="gtk-jump-to"/>
                                        <button name="check_assign" states="draft" string="Check Availability" type="object" icon="gtk-apply"/>
                                        <button name="cancel_assign" states="assigned" string="Cancel Availability" type="object" icon="gtk-find"/>
                                    </group>
                                </form>
                            </field>
                            <group col="10" colspan="4">
                                <field name="state" readonly="1"/>
                                <button name="button_cancel" states="assigned,confirmed,draft" string="_Cancel" icon="gtk-cancel"/>
                                <button name="draft_force_assign" states="draft" string="Process Later" type="object" icon="gtk-apply"/>
                                <button name="draft_validate" states="draft" string="Process Now" type="object" icon="gtk-media-play"/>
                                <button name="action_assign" states="confirmed" string="Check Availability" type="object" icon="gtk-find"/>
                                <button name="force_assign" states="confirmed" string="Force Availability" type="object" icon="gtk-jump-to"/>
                                <button name="action_process" states="assigned" string="Process" type="object" icon="gtk-go-forward"/>
                                <field name="certificate_donation" invisible="1"/>
                                <button name="print_certificate" string="Print certificate" type="object" icon="gtk-print" attrs="{'invisible': [('certificate_donation', '=', False)]}"/>
                                <button name="315" string="Create Invoice" attrs="{'invisible': ['|','|',('state','&lt;&gt;','done'),('invoice_state','=','invoiced'),('invoice_state','=','none')]}" type="action" icon="terp-gtk-go-back-rtl"/>
                            </group>
                        </page>
                        <page string="Additional info">
                            <field name="auto_picking" invisible="1" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}"/>
                            <field name="date_done" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}"/>
                            <field name="move_type" invisible="1" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}"/>
                            <field name="type" invisible="1" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}"/>
                            <field name="company_id" widget="selection" invisible="1"/>
                        </page>
                        <page string="Notes">
                            <field colspan="4" name="note" nolabel="1"/>
                            <field name="from_wkf" invisible="1"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <record id="sale.stock_picking_inherit_sale" model="ir.ui.view">
            <field name="name">stock.picking.form</field>
            <field name="model">stock.picking</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="stock.view_picking_form"/>
            <field name="arch" type="xml">
                <field name="auto_picking" position="after">
                    <field name="sale_id" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}"/>
                </field>
            </field>
        </record>
        
        <record id="purchase.stock_picking_inherit_purchase" model="ir.ui.view">
            <field name="name">Picking list</field>
            <field name="model">stock.picking</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="stock.view_picking_form"/>
            <field name="arch" type="xml">
                <field name="auto_picking" position="after">
                    <field name="purchase_id" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}"/>
                </field>
            </field>
        </record>
        
        <record id="stock.view_picking_in_form" model="ir.ui.view">
        	<field name="name">view.picking.in.form</field>
        	<field name="model">stock.picking</field>
        	<field name="type">form</field>
        	<field name="arch" type="xml">
        		<form string="Incoming Shipments">
                    <group colspan="4" col="6">
                        <group colspan="4" col="4">
                            <field name="name" readonly="1"/>
                            <field name="origin" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}"/>
                            <field name="partner_id2" on_change="on_change_partner(partner_id2, address_id)" required="0" attrs="{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}"/>
                            <field name="backorder_id" readonly="1"/>
                            <field name="reason_type_id" widget="selection" attrs="{'readonly': [('state', 'not in', ('draft', 'confirmed', 'assigned'))]}"/>
                    		<field name="order_category"/>
                    		<field name="change_reason"/>
                        </group>
                        <group colspan="2" col="2">
                            <field name="date" string="Actual Receipt Date" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}"/>
                            <field name="min_date" string="Expected Receipt Date" attrs="{'readonly': [('state', 'in', ['done', 'cancel'])]}"/>
                            <field name="warehouse_id" widget="selection" attrs="{'readonly': [('state', 'not in', ('draft', 'confirmed', 'assigned'))]}"/>
                        </group>
                    </group>
                    <notebook colspan="4">
                        <page string="General Information">
                            <field colspan="4" name="move_lines" nolabel="1" widget="one2many_list"
                                default_get="{'purchase_id': purchase_id, 'reason_type_id': reason_type_id, 'warehouse_id': warehouse_id}"
                                context="{'reason_type_id': reason_type_id, 'warehouse_id': warehouse_id}"
                                on_change="onchange_move()"
                                attrs="{'readonly': [('from_wkf', '=', True),('state','in',['draft','confirmed','assigned'])]}"
                                >
                            	<tree colors="grey:scrapped==True" string="Stock Moves">
                                    <field name="line_number"/>
									<field name="product_id"/>
                                    <field name="product_qty"/>
                                    <field name="product_uom" string="UoM"/>
                                    <field name="scrapped" invisible="1"/>
                                    <field name="asset_id"/>
                                    <field name="prodlot_id"/>
                                    <field name="expired_date"/>
                                    <field name="location_dest_id"/>
                                    <field name="date" string="Actual Receipt Date"/>
									<field name="state"/>
									<field name="kit_check" invisible="True"/>
           							<button name="create_composition_list" type="object" string="Create Composition List" icon="gtk-justify-fill" attrs="{'invisible': ['|', ('state', '!=', 'done'), ('kit_check', '=', False)]}"/>
									<field name="lot_check"/>
									<field name="exp_check"/>
									<field name="kc_check"/>
									<field name="ssl_check" invisible="True"/>
									<field name="dg_check"/>
									<field name="np_check"/>
                                </tree>   
								<form string="Stock Moves">
                                    <group colspan="2" col="4">
                                        <separator colspan="4" string="Move Information"/>
                                        <field name="name" invisible="1" colspan="4"/>
                                        <field name="product_id" context="{'location': location_id, 'prodlot_id': prodlot_id, 'compute_child': False}" on_change="onchange_product_id(product_id,location_id,location_dest_id, parent.address_id, parent.type)" colspan="4"/>
            							<field name="change_reason" colspan="4"/>
										<field name="product_qty" on_change="onchange_quantity(product_id, product_qty, product_uom, product_uos)" colspan="2"/>
                                        <field name="product_uom" string="Unit Of Measure" colspan="2"/>
                                        <field name="product_uos_qty" on_change="onchange_uos_quantity(product_id, product_uos_qty, product_uos, product_uom)" colspan="4" invisible="1"/>
                                        <field name="product_uos" on_change="onchange_quantity(product_id, product_qty, product_uom, product_uos)" colspan="4" invisible="1"/>
                                        <field name="product_packaging" domain="[('product_id','=',product_id)]" colspan="4" invisible="1" />
                                    </group>

                                    <group colspan="2" col="2">
                                        <separator string="Locations" colspan="2"/>
                                        <field name="location_id" domain="[('usage', '=', 'supplier')]" context="{'specific_rules_tree_view': True, 'prodlot_id': prodlot_id, 'product_id': product_id, 'compute_child': False}"/>
            							<field name="product_type" invisible="1"/>
                        				<field name="location_dest_id" domain="[('usage', '=', product_type=='service_recep' and 'inventory' or 'internal'), ('service_location', '=', product_type=='service_recep' and True or False)]" on_change="location_dest_change(location_dest_id)"/>
               						</group>
               						
               						<group colspan="2" col="4">
                                        <separator string="Traceability" colspan="4"/>
                                        <field name="asset_id" colspan="4" />
                                        <field name="prodlot_id" context="{'location_id':location_id, 'product_id':product_id, 'hidden_perishable_mandatory': hidden_perishable_mandatory}" domain="[('product_id','=?',product_id), ('check_type','=', True)]" on_change="onchange_lot_id(prodlot_id,product_qty, location_id, product_id, product_uom)" colspan="2" attrs="{'readonly': [('hidden_batch_management_mandatory','=',False), ('hidden_perishable_mandatory','=',False)]}"/>
                                        <field name="expired_date"/>
                    					<field name="kit_check" invisible="True"/>
										<button name="create_composition_list" type="object" string="Create Composition List" icon="gtk-justify-fill" attrs="{'invisible': ['|', ('state', '!=', 'done'), ('kit_check', '=', False)]}"/>
										<field name="hidden_batch_management_mandatory" invisible="True"/>
                    					<field name="hidden_perishable_mandatory" invisible="True"/>
                    					<group colspan="4" col="10">
											<field name="lot_check"/>
	                   						<field name="exp_check"/>
	                   						<field name="kc_check"/>
	           								<field name="ssl_check" invisible="True"/>
	           								<field name="dg_check"/>
	           								<field name="np_check"/>
           								</group>
           								<field name="reason_type_id" widget="selection" attrs="{'readonly': [('state', 'not in', ('draft', 'confirmed', 'assigned'))]}"/>
                                    </group>

                                    <group colspan="2" col="2">
                                        <separator string="Dates" colspan="2"/>
                                        <field name="create_date" invisible="1"/>
                                        <field name="date" string="Actual Receipt Date"/>
                                        <field name="date_expected" string="Expected Receipt Date"/>
                                    </group>

                                    <label string="" colspan="4"/>
                                    <field name="state"/>
                                    <group col="4" colspan="2">
                                        <button name="action_cancel" states="assigned" string="Cancel" type="object" icon="gtk-cancel"/>
                                        <button name="action_confirm" states="draft" string="Confirm" type="object" icon="gtk-apply"/>
                                        <button name="force_assign" states="confirmed" string="Force Availability" type="object" icon="gtk-jump-to"/>
                                        <button name="cancel_assign" states="assigned" string="Cancel Availability" type="object" icon="gtk-find"/>
                                    </group>
                                </form>
                            </field>
                            <group col="10" colspan="4">
                                <field name="state" readonly="1"/>
                                <button name="enter_reason"
                                    states="assigned,confirmed,draft"
                                    string="Cancel"
                                    type="object"
                                    icon="gtk-cancel"
                                    context="{'cancel_type': 'update_out'}"
                                    confirm="Warning, you are going to Cancel!"
                                    />
                                <button name="enter_reason"
                                    states="assigned,confirmed,draft"
                                    string="Cancel &amp; Resource"
                                    type="object"
                                    icon="gtk-cancel"
                                    confirm="Warning, you are going to Cancel and Resource!"
                                    />
								<button name="draft_force_assign" states="draft" string="Validate" type="object" icon="gtk-ok"/>
                                <button name="force_assign" states="confirmed,assigned" string="Force Availability" type="object" icon="gtk-jump-to"/>
                                <button name="action_process" states="assigned" string="Process" type="object" icon="gtk-go-forward"/>
                                <group colspan="1" states="done">
                                	<button name="321" string="Return Products" states="done" type="action" icon="gtk-execute"/>
                                </group>
                                <button states="done" name="315" string="Create Invoice" attrs="{'invisible': ['|','|',('state','&lt;&gt;','done'),('invoice_state','=','invoiced'),('invoice_state','=','none')]}" type="action" icon="terp-gtk-go-back-rtl"/>
                            </group>
                        </page>
                        <page string="Additional Info">
                            <field name="type" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}"/>
                            <field name="attach_cert" readonly="1" attrs="{'invisible': [('certificate_donation', '=', False)]}"/>
                			<field name="company_id" widget="selection" invisible="1"/>
                        </page>
                        <page string="Notes">
                            <field colspan="4" name="note" nolabel="1"/>
                            <field name="from_wkf" invisible="1"/>
                        </page>
                    </notebook>
                </form>
        	</field>
        </record>
        
        <record id="stock.view_move_search" model="ir.ui.view">
            <field name="name">stock.move.search</field>
            <field name="model">stock.move</field>
            <field name="type">search</field>
            <field eval="3" name="priority"/>
            <field name="arch" type="xml">
                <search string="Stock Moves">
                    <group col="14" colspan="4">
                        <filter icon="terp-go-today" string="Today" domain="[('date','&lt;=',time.strftime('%%Y-%%m-%%d 23:59:59')),('date','&gt;=',time.strftime('%%Y-%%m-%%d 00:00:00'))]" help="Orders processed Today or planned for Today"/>
                        <separator orientation="vertical"/>
                        <filter icon="terp-dialog-close" string="Done" name="done" domain="[('state','=','done')]" help="Stock moves that have been processed"/>
                        <filter icon="terp-stock" string="Future" name="future" domain="[('state','in',('assigned','confirmed','waiting'))]" help="Stock moves that are Confirmed, Available or Waiting"/>
                        <filter icon="terp-camera_test" string="Ready" name="ready" domain="[('state','=','assigned')]" help="Stock moves that are Available (Ready to process)"/>
                        <separator orientation="vertical"/>
                        <field name="name" string="Name" />
                        <field name="origin"/>
                        <field name="address_id" string="Partner" context="{'contact_display':'partner'}" filter_domain="[('picking_id.address_id','ilike',self)]"/>
                        <field name="product_id"/>
                        <field name="location_id" string="Source Location" />
                        <field name="location_dest_id" string="Destination location" />
						<field name="state"/>
                    </group>
                    <newline/>
                    <group expand="0" string="Extended Filters..." colspan="4" col="8" groups="base.group_extended">
                            <field name="prodlot_id"/>
                    </group>
                    <newline/>
                    <group expand="0" string="Group By..." colspan="4" col="8" groups="base.group_extended">
                        <filter string="Product" name="by_product" icon="terp-accessories-archiver" domain="[]"  context="{'group_by':'product_id'}"/>
                        <filter string="Picking" name="groupby_picking_id" icon="terp-accessories-archiver" domain="[]"  context="{'group_by':'picking_id'}"/>
                        <filter string="Lot" name="groupby_prodlot_id" icon="terp-accessories-archiver" domain="[]"  context="{'group_by':'prodlot_id'}"/>
                        <separator orientation="vertical"/>
                        <filter string="Source" name="groupby_location_id" icon="terp-gtk-jump-to-rtl" domain="[]" context="{'group_by':'location_id'}"/>
                        <filter string="Destination" name="groupby_dest_location_id" icon="terp-gtk-jump-to-ltr" domain="[]" context="{'group_by':'location_dest_id'}"/>
                        <separator orientation="vertical"/>
                        <filter icon="terp-stock_effects-object-colorize" string="State" domain="[]" context="{'group_by':'state'}" />
                        <separator orientation="vertical"/>
                        <filter string="Creation" name="groupby_create_date" icon="terp-go-month" domain="[]" context="{'group_by':'create_date'}"/>
                        <filter string="Expected" name="groupby_date" icon="terp-go-month" domain="[]" context="{'group_by':'date'}"/>
                    </group>
                </search>
            </field>
        </record>
        
        <record id="unifield_view_inventory_filter" model="ir.ui.view">
        	<field name="name">stock.inventory.filter</field>
            <field name="model">stock.inventory</field>
            <field name="type">search</field>
            <field name="inherit_id" ref="stock.view_inventory_filter" />
            <field name="arch" type="xml">
            	<xpath expr="/search//field[@name='company_id']" position="replace">
            		<field name="state" />
            	</xpath>
            </field>
        </record>
        
        <delete model="ir.actions.act_window" id="stock.action_view_stock_fill_inventory" />
        <delete model="ir.actions.act_window" id="stock.action_view_stock_merge_inventories" />
        <delete model="ir.ui.menu" id="stock.action_stock_inventory_report" />

        <record id="purchase.stock_picking_in_inherit_purchase" model="ir.ui.view">
            <field name="name">Incoming Picking Inherited</field>
            <field name="model">stock.picking</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="stock.view_picking_in_form"/>
            <field name="arch" type="xml">
                <field name="backorder_id" position="after">
                    <field name="purchase_id" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}"/>
                </field>
            </field>
        </record>

        <record id="stock.view_picking_out_form" model="ir.ui.view">
            <field name="name">view.picking.out.form</field>
            <field name="model">stock.picking</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Delivery Orders">
                    <group col="6" colspan="4">
                        <group colspan="4" col="4">
                            <field name="name" readonly="1"/>
                            <field name="origin" readonly="1"/>
                            <field name="partner_id2"
                                on_change="on_change_partner(partner_id2, address_id)"
                                required="1"
                                attrs="{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}"
                                />
                            <field name="address_id"
                                attrs="{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}"
                                required="1"
                                />
                            <field name="backorder_id" readonly="1"/>
                            <field name="reason_type_id"
                                widget="selection"
                                attrs="{'readonly': [('state', 'not in', ('draft', 'confirmed', 'assigned'))]}"
                                />
                            <field name="order_category"/>
                        </group>
                        <group colspan="2" col="2">
                            <field name="date" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}"/>
                            <field name="min_date" string="Expected Shipped Date" attrs="{'readonly': [('state', 'in', ['done', 'cancel'])]}"/>
                            <field name="warehouse_id"
                                widget="selection"
                                attrs="{'readonly': [('state', 'not in', ['draft', 'waiting', 'confirmed', 'assigned'])]}"
                                />
                       </group>
                    </group>
                    <notebook colspan="4">
                        <page string="Products">
                            <field name="move_lines"
                                colspan="4"
                                nolabel="1"
                                widget="one2many_list"
                                default_get="{'move_line':move_lines, 'address_out_id': address_id}"
                                context="{'subtype': 'standard', 'type': 'out', 'reason_type_id': reason_type_id}" 
                                on_change="onchange_move()"
                                attrs="{'readonly': [('from_wkf', '=', True), ('state', 'in', ['draft', 'confirmed', 'assigned'])]}"
                                >
                                <tree colors="grey:scrapped==True" string="Stock Moves">
                                    <field name="line_number"/>
                                    <field name="product_id"/>
                                    <field name="composition_list_id"/>
                                    <field name="product_qty" on_change="onchange_quantity(product_id, product_qty, product_uom, product_uos)"/>
                                    <field name="product_uom" string="UoM"/>
                                    <field name="asset_id"/>
                                    <field name="product_uos" invisible="1"/>
                                    <field name="scrapped" invisible="1"/>
                                    <field name="prodlot_id"/>
                                    <field name="expired_date"/>
                                    <button name="310" string="Split in production lots" type="action" icon="terp-stock_effects-object-colorize" attrs="{'invisible': [('prodlot_id','&lt;&gt;',False)]}" states="draft,assigned,confirmed"/>
                                    <field name="tracking_id" />
                                    <field name="location_id"/>
                                    <button name="button_cross_docking" string="Cross docking" type="object" icon="gtk-select-color" attrs="{'invisible':['|', ('move_cross_docking_ok','=', True), ('state', 'in', ('done','cancel'))]}"/>
                                    <button name="button_stock" string="Stock" type="object" icon="gtk-media-play" attrs="{'invisible':['|', ('move_cross_docking_ok','=', False), ('state', 'in', ('done','cancel'))]}"/>
                                    <field name="move_cross_docking_ok" invisible="1"/>
                                    <field name="date" string="Actual Shipped Date"/>
                                    <field name="state"/>
                                    <field name="lot_check"/>
                                    <field name="exp_check"/>
                                    <field name="kc_check"/>
                                    <field name="ssl_check" invisible="True"/>
                                    <field name="dg_check"/>
                                    <field name="np_check"/>
                                    <button name="313" string="Process" type="action" states="confirmed,assigned" icon="gtk-go-forward" invisible="1"/>
                                </tree>
                                <form string="Stock Moves">
                                    <group colspan="2" col="4">
                                        <separator colspan="4" string="Move Information"/>
                                        <field name="name" invisible="1" colspan="4"/>
                                        <field name="product_id" context="{'location': location_id, 'prodlot_id': prodlot_id, 'compute_child': False}" on_change="onchange_product_id(product_id,location_id,location_dest_id, parent.address_id,parent.type)" colspan="4"/>
                                        <field name="product_qty" on_change="onchange_quantity(product_id, product_qty, product_uom, product_uos)" colspan="2"/>
                                        <field name="product_uom" string="Unit Of Measure" colspan="2"/>
                                        <field name="product_uos_qty" on_change="onchange_uos_quantity(product_id, product_uos_qty, product_uos, product_uom)" colspan="4" invisible="1"/>
                                        <field name="product_uos" on_change="onchange_quantity(product_id, product_qty, product_uom, product_uos)" colspan="4" invisible="1"/>
                                        <field name="product_packaging" domain="[('product_id','=',product_id)]" colspan="4"  invisible="1"/>
                                    </group>

                                    <group colspan="2" col="2">
                                        <separator string="Locations" colspan="2"/>
                                        <field name="location_virtual_id" invisible="1"/>
                                        <field name="location_output_id" invisible="1"/>
                                        <field name="location_id" domain="[('standard_out_ok', '=', 'src')]" context="{'specific_rules_tree_view': True, 'prodlot_id': prodlot_id, 'product_id': product_id, 'compute_child': False}"/>
                                        <field name="location_dest_id" domain="[('standard_out_ok', '=', 'dest')]" on_change="location_dest_change(location_dest_id)"/>
                                    </group>
                                    
                                    <group colspan="2" col="4">
                                        <separator string="Traceability" colspan="4"/>
                                        <field name="asset_id" colspan="4" />
                                        <field name="prodlot_id" context="{'location_id':location_id, 'product_id':product_id, 'hidden_perishable_mandatory': hidden_perishable_mandatory,                           'search_default_real': True}" domain="[('product_id','=?',product_id), ('check_type','=', True)]" on_change="onchange_lot_id(prodlot_id,product_qty, location_id, product_id, product_uom)" colspan="2" attrs="{'readonly': [('hidden_batch_management_mandatory','=',False), ('hidden_perishable_mandatory','=',False)]}"/>
                                        <field name="expired_date"/>
                                        <field name="hidden_batch_management_mandatory" invisible="True"/>
                                        <field name="hidden_perishable_mandatory" invisible="True"/>
                                        <group colspan="4" col="10">
                                            <field name="lot_check"/>
                                            <field name="exp_check"/>
                                            <field name="kc_check"/>
                                            <field name="ssl_check" invisible="True"/>
                                            <field name="dg_check"/>
                                            <field name="np_check"/>
                                        </group>
                                        <field name="reason_type_id" widget="selection" attrs="{'readonly': [('state', 'not in', ('draft', 'confirmed', 'assigned'))]}"/>
                                    </group>

                                    <group colspan="2" col="2">
                                        <separator string="Dates" colspan="2"/>
                                        <field name="create_date" invisible="1"/>
                                        <field name="date" string="Actual Shipped Date"/>
                                        <field name="date_expected" string="Expected Shipped Date"/>
                                    </group>

                                    <label string="" colspan="4"/>
                                    <field name="state"/>
                                    <group col="4" colspan="2">
                                        <button name="action_cancel" states="assigned" string="Cancel" type="object" icon="gtk-cancel"/>
                                        <button name="draft_force_assign" states="draft" string="Validate" type="object" icon="gtk-apply"/>
                                        <button name="action_assign" states="confirmed,assigned" string="Check Availability" type="object" icon="gtk-find"/>
                                        <button name="action_confirm" states="draft" string="Confirm" type="object" icon="gtk-apply"/>
                                        <button name="force_assign" states="confirmed,assigned" string="Force Availability" type="object" icon="gtk-jump-to"/>
                                        <button name="cancel_assign" states="assigned" string="Cancel Availability" type="object" icon="gtk-find"/>
                                    </group>
                                </form>
                            </field>
                            <group col="12" colspan="4">
                                <field name="state" invisible="True"/>
                                <field name="subtype" invisible="True"/>
                                <field name="delivered" invisible="True"/>
                                <field name="state_hidden"/>
                                <button name="set_delivered" icon="gtk-apply" type="object" string="Validate Delivery" attrs="{'invisible': ['|', '|', '|', ('type', '!=', 'out'), ('subtype', '!=', 'standard'), ('state', '!=', 'done'), ('delivered', '=', True)]}"/>
                                <button name="button_cross_docking_all" string="Cross docking" type="object" icon="gtk-select-color" attrs="{'invisible':['|', ('cross_docking_ok','=', True), ('state', 'in', ('done','cancel'))]}"/>
                                <button name="button_stock_all" string="Stock" type="object" icon="gtk-media-play" attrs="{'invisible':['|', ('cross_docking_ok','=', False), ('state', 'in', ('done','cancel'))]}"/>
                                <field name="cross_docking_ok" invisible="1"/>
                                <button name="button_cancel" states="assigned,confirmed,draft" string="_Cancel" icon="gtk-cancel"/>
                                <button name="draft_force_assign" states="draft" string="Process Later" type="object" icon="gtk-ok"/>
                                <button name="draft_validate" states="draft" string="Process Now" type="object" icon="gtk-yes"/>
                                <button name="action_assign" states="confirmed" string="Check Availability" type="object" icon="gtk-find"/>
                                <button name="force_assign" states="confirmed" string="Force Availability" type="object" icon="gtk-jump-to"/>
                                <button name="action_process" states="assigned" string="Process" type="object" icon="gtk-go-forward"/>
                                <field name="certificate_donation" invisible="1"/>
                                <button name="print_certificate" string="Print certificate" type="object" icon="gtk-print" attrs="{'invisible': [('certificate_donation', '=', False)]}"/>
                                <button name="321" string="Return Products" states="done" type="action" icon="gtk-execute"/>
                                <button name="315" string="Create Invoice" attrs="{'invisible': ['|','|',('state','&lt;&gt;','done'),('invoice_state','=','invoiced'),('invoice_state','=','none')]}" type="action" icon="terp-gtk-go-back-rtl"/>
                            </group>
                        </page>
                        <page string="Additional info">
                            <field name="auto_picking" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}" invisible="1" />
                            <field name="date_done" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}" />
                            <field name="move_type" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}" invisible="1" />
                            <field name="type" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}" invisible="1" />
                            <field name="transport_order_id" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}"/>
                            <field name="company_id" widget="selection" invisible="1"/>
                        </page>
                        <page string="Notes">
                            <field colspan="4" name="note" nolabel="1"/>
                            <field name="from_wkf" readonly="1"/>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>
        
        <record id="sale.stock_picking_out_inherit_sale" model="ir.ui.view">
            <field name="name">Outgoing picking Inherited</field>
            <field name="model">stock.picking</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="stock.view_picking_out_form"/>
            <field name="arch" type="xml">
                <field name="move_type" position="after">
                    <field name="sale_id" attrs="{'readonly': [('state', 'not in', ['draft', 'auto', 'assigned', 'confirmed'])]}"/>
                </field>
            </field>
        </record>

    </data>
</openerp>
