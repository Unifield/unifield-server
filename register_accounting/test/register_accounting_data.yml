-
  In order to make tests, I create some elements in accounting.
-
  I create a fiscalyear
-
  !record {model: account.fiscalyear, id: fiscalyear0}:
    code: !eval "'FY%s'% (datetime.now().year+1)"
    company_id: base.main_company
    date_start: !eval "'%s-01-01' %(datetime.now().year+1)"
    date_stop: !eval "'%s-12-31' %(datetime.now().year+1)"
    name: !eval "'Fiscal Year %s' %(datetime.now().year+1)"
-
  I create the period 01
-
  !record {model: account.period, id: period_1}:
    company_id: base.main_company
    date_start: !eval "'%s-01-01' %(datetime.now().year)"
    date_stop: !eval "'%s-01-31' %(datetime.now().year)"
    fiscalyear_id: fiscalyear0
    name: !eval "'Jan-%s' %(datetime.now().year)"
    special: 1
-
  I create the period 02
-
  !record {model: account.period, id: period_2}:
    company_id: base.main_company
    date_start: !eval "'%s-02-01' %(datetime.now().year)"
    date_stop: !eval "'%s-02-28' %(datetime.now().year)"
    fiscalyear_id: fiscalyear0
    name: !eval "'Feb-%s' %(datetime.now().year)"
    special: 1
-
  I create the period 03
-
  !record {model: account.period, id: period_3}:
    company_id: base.main_company
    date_start: !eval "'%s-03-01' %(datetime.now().year)"
    date_stop: !eval "'%s-03-31' %(datetime.now().year)"
    fiscalyear_id: fiscalyear0
    name: !eval "'Mar-%s' %(datetime.now().year)"
    special: 1
-
  I create the period 04
-
  !record {model: account.period, id: period_4}:
    company_id: base.main_company
    date_start: !eval "'%s-04-01' %(datetime.now().year)"
    date_stop: !eval "'%s-04-30' %(datetime.now().year)"
    fiscalyear_id: fiscalyear0
    name: !eval "'Apr-%s' %(datetime.now().year)"
    special: 1
-
  I create the period 05
-
  !record {model: account.period, id: period_5}:
    company_id: base.main_company
    date_start: !eval "'%s-05-01' %(datetime.now().year)"
    date_stop: !eval "'%s-05-31' %(datetime.now().year)"
    fiscalyear_id: fiscalyear0
    name: !eval "'May-%s' %(datetime.now().year)"
    special: 1
-
  I create the period 06
-
  !record {model: account.period, id: period_6}:
    company_id: base.main_company
    date_start: !eval "'%s-06-01' %(datetime.now().year)"
    date_stop: !eval "'%s-06-30' %(datetime.now().year)"
    fiscalyear_id: fiscalyear0
    name: !eval "'Jun-%s' %(datetime.now().year)"
    special: 1
-
  I create the period 07
-
  !record {model: account.period, id: period_7}:
    company_id: base.main_company
    date_start: !eval "'%s-07-01' %(datetime.now().year)"
    date_stop: !eval "'%s-07-31' %(datetime.now().year)"
    fiscalyear_id: fiscalyear0
    name: !eval "'Jul-%s' %(datetime.now().year)"
    special: 1
-
  I create the period 08
-
  !record {model: account.period, id: period_8}:
    company_id: base.main_company
    date_start: !eval "'%s-08-01' %(datetime.now().year)"
    date_stop: !eval "'%s-08-31' %(datetime.now().year)"
    fiscalyear_id: fiscalyear0
    name: !eval "'Aug-%s' %(datetime.now().year)"
    special: 1
-
  I create the period 09
-
  !record {model: account.period, id: period_9}:
    company_id: base.main_company
    date_start: !eval "'%s-09-01' %(datetime.now().year)"
    date_stop: !eval "'%s-09-30' %(datetime.now().year)"
    fiscalyear_id: fiscalyear0
    name: !eval "'Sep-%s' %(datetime.now().year)"
    special: 1
-
  I create the period 10
-
  !record {model: account.period, id: period_10}:
    company_id: base.main_company
    date_start: !eval "'%s-10-01' %(datetime.now().year)"
    date_stop: !eval "'%s-10-31' %(datetime.now().year)"
    fiscalyear_id: fiscalyear0
    name: !eval "'Oct-%s' %(datetime.now().year)"
    special: 1
-
  I create the period 11
-
  !record {model: account.period, id: period_11}:
    company_id: base.main_company
    date_start: !eval "'%s-11-01' %(datetime.now().year)"
    date_stop: !eval "'%s-11-30' %(datetime.now().year)"
    fiscalyear_id: fiscalyear0
    name: !eval "'Nov-%s' %(datetime.now().year)"
    special: 1
-
  I create the period 12
-
  !record {model: account.period, id: period_12}:
    company_id: base.main_company
    date_start: !eval "'%s-12-01' %(datetime.now().year)"
    date_stop: !eval "'%s-12-31' %(datetime.now().year)"
    fiscalyear_id: fiscalyear0
    name: !eval "'Dec-%s' %(datetime.now().year)"
    special: 1
-
  I create a Receivable Account Type.
-
  !record {model: account.account.type, id: account_account_type_receivable0}:
    close_method: balance
    code: receivable
    name: Receivable
    sign: 1
-
  I create an Expense Account Type.
-
  !record {model: account.account.type, id: account_account_type_expense0}:
    close_method: unreconciled
    code: expense
    name: Expense
    sign: 1
-
  I create a transfer account type
-
  !record {model: account.account.type, id: account_account_type_transfer_0}:
    close_method: balance
    code: transfer
    name: Transfer
    sign: 1
    report_type: asset
-
  I create a cash account type
-
  !record {model: account.account.type, id: account_account_type_cash_0}:
    close_method: balance
    code: cash
    name: Cash
    sign: 1
    report_type: asset
-
  I create a transfer account
-
  !record {model: account.account, id: account_account_transfer_0}:
    name: Internal Transfer
    code: '5815-bank-and-cash-transfer-test'
    type: liquidity
    user_type: account_account_type_transfer_0
    company_id: base.main_company
    currency_mode: current
-
  I create Supplier 401 Payable Account.
-
  !record {model: account.account, id: account_account_payable_supplier0}:
    code: '401-supplier-test'
    company_id: base.main_company
    currency_mode: current
    name: Supplier Payable Account
    type: payable
    user_type: account_account_type_receivable0
    reconcile: True
-
  I create a 6101 Expense Account.
-
  !record {model: account.account, id: account_account_expense0}:
    code: '6101-expense-test'
    company_id: base.main_company
    currency_mode: current
    name: Expense Account
    type: other
    user_type: account_account_type_expense0
-
  I create Cash Advance 4204 Account.
-
  !record {model: account.account, id: account_account_advance0}:
    code: '4204-cash-advance-test'
    company_id: base.main_company
    currency_mode: current
    name: Cash Advance Account
    type: other
    user_type: account_account_type_expense0
    reconcile: True
-
  I create a X11002 Receivable Account.
-
  !record {model: account.account, id: account_account_receivable0}:
    code: 'X11002-test'
    company_id: base.main_company
    currency_mode: current
    name: Debtors (test)
    type: receivable
    reconcile: True
    user_type : account_account_type_receivable0
-
  I create a Journal View with some columns
-
  !record {model: account.journal.view, id: account_journal_view0}:
    name: Bank/Cash/Cheque Journal (Multi-Currency) View
    columns_id:
        - name: Date
          field: date
          required: True
          sequence: 3
        - name: Journal Entry
          field: move_id
          required: False
          sequence: 1
        - name: Name
          field: name
          required: True
          sequence: 7
        - name: Statement
          field: statement_id
          sequence: 7
        - name: Partner
          field: partner_id
          sequence: 5
        - name: Account
          field: account_id
          required: True
          sequence: 6
        - name: Currency Amt.
          field: amount_currency
          sequence: 9
        - name: Currency
          field: currency_id
          sequence: 10
        - name: Debit
          field: debit
          sequence: 11
        - name: Credit
          field: credit
          sequence: 12
        - name: Ref
          field: ref
          sequence: 2
        - name: State
          field: state
          sequence: 19
        - name: Reconcile
          field: reconcile_id
          sequence: 20
-
  I create a Cash Journal
-
  !record {model: account.journal, id: account_journal_cash_0}:
    code: csh
    company_id: base.main_company
    name: Cash Journal (test)
    type: cash
    view_id: account_journal_view0
    default_debit_account_id: account_account_type_cash_0
    default_credit_account_id: account_account_type_cash_0
-
  I create a Bank Journal
-
  !record {model: account.journal, id: account_journal_bank_0}:
    code: bnk
    company_id: base.main_company
    name: Bank Journal (test)
    type: bank
    view_id: account_journal_view0
    default_debit_account_id: account_account_type_cash_0
    default_credit_account_id: account_account_type_cash_0
-
  I create a Cheque Journal
-
  !record {model: account.journal, id: account_journal_cheque_0}:
    code: chq
    company_id: base.main_company
    name: Cheque Journal (test)
    type: cheque
    view_id: account_journal_view0
    default_debit_account_id: account_account_type_cash_0
    default_credit_account_id: account_account_type_cash_0
-
  I create an Expenses Journal
-
  !record {model: account.journal, id: account_journal_expenses_0}:
    code: expense
    company_id: base.main_company
    name: Expenses Journal (test)
    type: purchase
    view_id: account_journal_view0
    default_debit_account_id: account_account_type_expense0
    default_credit_account_id: account_account_type_expense0
