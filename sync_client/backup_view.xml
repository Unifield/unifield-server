<?xml version="1.0" encoding="UTF-8"?>
<openerp>
  <data>

    <menuitem id="message_menu" name="Message" parent="mon_menu" sequence="60"/>

    <record model="ir.ui.view" id="syncback_config_tree_view">
      <field name="name">sync.backup.config.tree</field>
      <field name="model">backup.config</field>
      <field name="type">tree</field>
      <field name="arch" type="xml">
        <tree string="Backup Tree">
          <field name="name"/>
          <field name="beforemanualsync"/>
          <field name="beforeautomaticsync"/>
          <field name="aftermanualsync"/>
          <field name="afterautomaticsync"/>
          <field name="scheduledbackup"/>
        </tree>
      </field>
    </record>

    <record model="ir.ui.view" id="syncback_config_form_view">
      <field name="name">sync.backup.config.form</field>
      <field name="model">backup.config</field>
      <field name="type">form</field>
      <field name="arch" type="xml">
        <form string="Message Received">
            <group col="6" colspan="6">
            <field name="name"/>
            </group>
            <group col="4">
            <field name="beforemanualsync"/>
            <field name="beforeautomaticsync"/>
            <field name="aftermanualsync"/>
            <field name="afterautomaticsync"/>
            <field name="scheduledbackup"/>
            </group>
            <button type="object" string="Backup" name="exp_dump" />
        </form>
      </field>
    </record>

    <record model="ir.actions.act_window" id="syncback_config_action">
      <field name="name">Backup config</field>
      <field name="res_model">backup.config</field>
      <field name="view_type">form</field>
      <field name="view_mode">tree,form</field>
    </record>

    <menuitem id="syncback_config_menu" name="Backup config"
              parent="syncback_menu" action="syncback_config_action"/>



        <record id="ir_actions_server_opensyncbackup" model="ir.actions.server">
            <field name="code">
res = obj.pool.get('ir.model.data').get_object_reference(cr, uid, 'sync_client', 'ir_cron_automaticsyncbackup')
action = {
'res_model' : 'ir.cron',
'view_type' : 'form',
'view_mode' : 'form',
'type': 'ir.actions.act_window',
'res_id' : res[1],
}</field>
            <field eval="5" name="sequence"/>
            <field name="state">code</field>
            <field name="type">ir.actions.server</field>
            <field name="model_id" ref="base.model_ir_cron"/>
            <field name="condition">True</field>
            <field name="name">Open Backup cron</field>
        </record>


        <record id="ir_ui_menu_cron_synchrobackup" model="ir.ui.menu">
            <field name="name">Automatic</field>
            <field name="parent_id" ref="syncback_menu"/>
            <field name="sequence">30</field>
        </record>

        <record id="ir_values_menuitem_cronbackup" model="ir.values">
            <field name="name">Menuitem IR CRON</field>
            <field name="key2">tree_but_open</field>
            <field eval="1" name="object"/>
            <field name="value" eval="'ir.actions.server,%s' % ref('ir_actions_server_opensyncbackup')" />
            <field name="key">action</field>
            <field name="model">ir.ui.menu</field>
            <field eval="ref('ir_ui_menu_cron_synchrobackup')" name="res_id"/>
        </record>
    </data>
</openerp>
