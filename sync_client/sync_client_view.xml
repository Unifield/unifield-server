<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>


<!-- =========================Connection Manager=============================== -->

        <record model="ir.ui.view" id="entity_tree_view">
            <field name="name">connection.tree</field>
            <field name="model">sync.client.sync_server_connection</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Entity Tree">
                    <field name="host"/>
                    <field name="database"/>
                    <field name="login"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="entity_form_view">
            <field name="name">connection.form</field>
            <field name="model">sync.client.sync_server_connection</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Entity Form">
                	<separator string="Connection information" colspan="4"/>
                    <field name="host"/>
                    <field name="port"/>
                    <field name="database"/>
                    <field name="login"/>
                    <field name="password" />
                    <field name="max_size" />
                    <separator string="Connection state" colspan="4"/>
                    <field name="uid" invisible="1" />
                    <field name="state" />
                    <button  icon="gtk-apply" string="Connect" name="connect" type="object" attrs="{'invisible' : [('state', '=', 'Connected')]}" />
                	<button  icon="gtk-go-back" string="Reset Connection" name="disconnect" type="object" attrs="{'invisible' : [('state', '!=', 'Connected')]}" />
                </form>
            </field>
        </record>


<!-- ========================= UPDATE RECEIVED =============================== -->
	
	<record model="ir.ui.view" id="update_received_tree_view">
            <field name="name">update.received.tree</field>
            <field name="model">sync.client.update_received</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Entity Tree">
                    <field name="source"/>
                    <field name="model"/>
                    <field name="sequence"/>
                	<field name="version"/>
                    <field name="run"/>
                </tree>
            </field>
        </record>
        
        
        <record model="ir.ui.view" id="update_received_form_view">
    		<field name="name">update.received.form</field>
            <field name="model">sync.client.update_received</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Entity Form">
                	<group col="10" colspan="4">
                    	<field name="source"/>
                    	<field name="model"/>
                    	<field name="sequence"/>
                    	<field name="version"/>
                    	<field name="run" />
                    </group>
                    <group colspan="4" >
		                <separator string="Execution log" colspan="4"/>
		                <field name="log" nolabel="1" colspan="4"/>
		                 <separator string="Values" colspan="4"/>
		                 <field name="values" nolabel="1" colspan="4" />
	                </group>
                    <group colspan="4" col="4">
	                    <group colspan="2" col="2">
		                    <separator string="Fields" colspan="2"/>
		                    <field name="fields" nolabel="1" />
	                    </group>
	                    <group colspan="2" col="2">
		                    <separator string="Fallback Values" colspan="2"/>
		                    <field name="fallback_values" nolabel="1" />
	                    </group>
	                </group>
	                    
                </form>
            </field>
        </record>
        
        <record id="update_received_search_view" model="ir.ui.view">
	        <field name="name">update.received.search</field>
	        <field name="model">sync.client.update_received</field>
	        <field name="type">search</field>
	        <field name="arch" type="xml">
	            <search string="Search update Received">
	               <filter icon="terp-check" string="Not Run"
	                   name="current"
	                   domain="[('run','=', False)]"/>
	               
	               <separator orientation="vertical"/>
	               <field name="source"/>
	               <field name="model"/>
	               <field name="log" />
	               <field name="sequence" />
	               <newline/>
	               <group expand="0" string="Group By..." colspan="4">
	                   <filter string="Source" icon="terp-partner" domain="[]"
	                       context="{'group_by':'source'}" />
	                   <filter string="Model" icon="terp-personal"
	                       domain="[]" context="{'group_by':'model'}" />
	                   
	               </group>
	           </search>
	        </field>
	    </record>
	    
<!-- ========================= Message RECEIVED =============================== -->
	
	<record model="ir.ui.view" id="message_received_tree_view">
            <field name="name">message.received.tree</field>
            <field name="model">sync.client.message_received</field>
            <field name="type">tree</field>
            <field name="arch" type="xml">
                <tree string="Entity Tree">
                	<field name="identifier" />
                    <field name="source"/>
                    <field name="remote_call"/>
                    <field name="run"/>
                </tree>
            </field>
        </record>
        
        
        <record model="ir.ui.view" id="update_received_form_view">
    		<field name="name">update.received.form</field>
            <field name="model">sync.client.message_received</field>
            <field name="type">form</field>
            <field name="arch" type="xml">
                <form string="Entity Form">
                	<group col="10" colspan="4">
                		<field name="identifier" />
                    	<field name="source"/>
                    	
                    	<field name="run" />
                    </group>
                    <group colspan="4" >
		                <separator string="Execution log" colspan="4"/>
		                <field name="log" nolabel="1" colspan="4"/>
	                </group>
                    <group colspan="4" col="4">
	                    <group colspan="2" col="2">
		                    <separator string="Call" colspan="2"/>
		                    <field name="remote_call" nolabel="1"/>
	                    </group>
	                    <group colspan="2" col="2">
		                    <separator string="Arguments" colspan="2"/>
		                    <field name="arguments" nolabel="1" />
	                    </group>
	                </group>
	                    
                </form>
            </field>
        </record>
        
        <record id="message_received_search_view" model="ir.ui.view">
	        <field name="name">message.received.search</field>
	        <field name="model">sync.client.message_received</field>
	        <field name="type">search</field>
	        <field name="arch" type="xml">
	            <search string="Search update Received">
	               <filter icon="terp-check" string="Not Run"
	                   name="current"
	                   domain="[('run','=', False)]"/>
	               
	               <separator orientation="vertical"/>
	               <field name="source"/>
	               <field name="remote_call"/>
	               <field name="log" />
	               <newline/>
	               <group expand="0" string="Group By..." colspan="4">
	                   <filter string="Source" icon="terp-partner" domain="[]"
	                       context="{'group_by':'source'}" />
	                   <filter string="Call" icon="terp-personal"
	                       domain="[]" context="{'group_by':'remote_call'}" />
	                   
	               </group>
	           </search>
	        </field>
	    </record>



<!-- =========================MENUS and ACTIONS=============================== -->

		<record model="ir.actions.act_window" id="connection_manager_action">
            
            <field name="name">Connection Manager</field>
            <field name="res_model">sync.client.sync_server_connection</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
        </record>
        
        <record model="ir.actions.act_window" id="update_received_action">
            <field name="name">Update received Monitor</field>
            <field name="res_model">sync.client.update_received</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
        </record>
        
        <record model="ir.actions.act_window" id="message_received_action">
            <field name="name">Message received Monitor</field>
            <field name="res_model">sync.client.message_received</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{}</field>
        </record>

		<menuitem id="sync_menu" name="Synchronization" parent=""/>  
		<menuitem id="reg_menu" name="Registration" parent="sync_menu"/>
		<menuitem id="mon_menu" name="Monitoring" parent="sync_menu"/>  
			
		<menuitem id="connection_manager_menu" name="Connection Manager" parent="reg_menu"
		        action="connection_manager_action" />   
		         
		<menuitem id="update_received_menu" name="Update received Monitor" parent="mon_menu"
		        action="update_received_action" />    
		        
		<menuitem id="Message_received_menu" name="Message received Monitor" parent="mon_menu"
		        action="message_received_action" />  
		        
		       
		       
		<record model="ir.ui.view" id="ir_model_data_inherit">
            <field name="name">ir.model.data.inherit</field>
            <field name="model">ir.model.data</field>
            <field name="type">form</field>
            <field name="inherit_id" ref="base.view_model_data_form"/>
            <field name="arch" type="xml">
                <field name="date_init" position="after">
                	 <field name="last_modification" />
                  <field name="sync_date" />
                </field>
            </field>
        </record>
		  
		        
	</data>
</openerp>
