-
  Create Tender (T1)
- 
  !record {model: tender, id: t1}:
    name: My Tender test
    creator: base.user_root
    requested_date: !eval time.strftime('%Y-%m-%d')
    location_id: stock.stock_location_stock
    categ: medical
    warehouse_id: stock.stock_warehouse_shop0
-
  Import Tender lines
-
  !python {model: tender}: |
    import addons, base64, logging
    
    logging.getLogger('tests').log(logging.TEST, 'We import tender.xml.')
    # get the file path
    file_path = addons.get_module_resource('msf_supply_doc_import','test','import_files_for_testing', 'tender.xml')
    file = open(file_path, 'r')
    file64 = base64.b64encode(file.read())
    self.write(cr, uid, ref("t1"), {'file_to_import': file64}, context=context)
    self.import_file(cr, uid, ref("t1"), context=context)